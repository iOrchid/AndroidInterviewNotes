#### å»ºé€ è€…æ¨¡å¼ Builder

> ä½¿ç”¨å¤šä¸ªç®€å•å¯¹è±¡æ¥é€æ­¥åˆ›å»ºä¸€ä¸ªå¤æ‚å¯¹è±¡ã€‚builderæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç±»ã€‚

- é£Ÿç‰©ç§ç±»çš„æ¥å£ï¼Œæ‰“åŒ…æ–¹å¼çš„æ¥å£
  - `Packing`

  ```java
  public interface Packing{
  	void pack();//æ‰“åŒ…æ–¹å¼
  }
  ```

  - `FoodItem`

  ```java
  public interface FoodItem{
   	String name();
   	Packing packing();
   	float price();
  }
  ```

- å…·ä½“çš„é£Ÿç‰©ç§ç±»ï¼Œå’Œæ‰“åŒ…æ–¹å¼

  - `Wrapper`

    ```java
    public class Wrapper implements Packing{
        @override
        public String pack(){
            //çº¸ç›’æ‰“åŒ…
        }
    }
    ```

  - `Bottle`

    ```java
    public class Bottle implements Packing{
        @override
        public String pack(){
            //ç“¶è£…æ‰“åŒ…
        }
    }
    ```

  ---

  - `Burger`

    ```java
    public abstract class Burger implements FoodItem{
        @override
        public Packing packing(){
            //æ±‰å ¡æ˜¯ğŸ”ç›’è£…
            return new Wrapper();
        }
        //æŠ½è±¡ç±»å®ç°æ¥å£æ—¶ï¼Œä¸éœ€è¦å…¨éƒ¨å®ç°æ‰€æœ‰æ¥å£å‡½æ•°ï¼Œå¯ç”±å­ç±»å…·ä½“å®ç°
        @override
        public abstract float price();
    } 
    ```

    - `VegBurger`

      ```java
      public class VegBurger extends Burger{
        //å…·ä½“å®ç°ç±»ï¼Œéœ€è¦å®ç°æŠ½è±¡çˆ¶ç±»ï¼Œä»¥åŠçˆ¶ç±»æ‰€å®ç°æ¥å£çš„æœªå®ç°çš„å‡½æ•°
        @override
        public float price(){
          return 25.0f;
        }
        @override
        public String name(){
          return "Veg Burger";
        }
      }
      ```

    - `ChickenBurger`

      ```java
      public class ChickenBurger extends Burger {
        @override
        public float price(){
          return 50.5f;
        }
        @override
        public String name(){
          return "Chicken Burger";
        }
      }
      ```

    ---

  - `ColdDrink`

    ```java
    public abstract class ColdDrink implements FoodItem{
       @override
        public Packing packing(){
            //å†·é¥®ğŸ¹æ˜¯ç“¶è£…
            return new Bottle();
        }
        //æŠ½è±¡ç±»å®ç°æ¥å£æ—¶ï¼Œä¸éœ€è¦å…¨éƒ¨å®ç°æ‰€æœ‰æ¥å£å‡½æ•°ï¼Œå¯ç”±å­ç±»å…·ä½“å®ç°
        @override
        public abstract float price(); 
    }
    ```

    - `Pepsi`ç™¾äº‹å¯ä¹

      ```java
      public class Pepsi extends ColdDrink{
        @override
        public float price(){
          return 35.0f;
        }
        @override
        public String name(){
          return "Pepsi";
        }
      }
      ```

    - `Coke`å¯å£å¯ä¹

      ```java
      public class Coke extends ColdDrink {
        @override
        public float price(){
          return 30.0f;
        }
        @override
        public String name(){
          return "Coke";
        }
      }
      ```

- åˆ›å»ºå¥—é¤Mealç±»

  - `Meal`

    ```java
    import java.util.ArrayList;
    import java.util.List;
    public class Meal {
      private List<FoodItem> items = new ArrayList<>();
    
      public void addItem(FoodItem item){
        items.add(item);
      }
      public float getCost(){
        float cost = 0.0f;
        for(FoodItem item:items){
          cost+=itemt.price();
        }
        return cost;
      }
    
      public void showItems(){
        for(FoodItem item:items){
          System.out.print("Item : " + item.name());
          System.out.print(", Packing : "+ item.packing().pack());
          System.out.println(", Price : " + item.price());
        }
      }
    }
    ```

  - å¥—é¤å»ºé€ è€…ç±» `MealBuilder`

    ```java
    public class MealBuilder {
      public Meal prepareVegMeal (){
        Meal meal = new Meal();
        meal.addItem(new VegBurger());
        meal.addItem(new Coke());
        return meal;
      }
      public Meal prepareNonVegBurger(){
        Meal meal = new Meal();
        meal.addItem(new ChickenBurger());
        meal.addItem(new Pepsi());
        return meal;
      }
    }
    ```

æ¼”ç¤ºDemo

```java
public class Demo{
    public static void main(String[] args){
    MealBuilder builder = new MealBuilder)();

    Meal vegMeal = builder.prepareVegMeal();
    System.out.println("Veg Meal");
    vegMeal.showItems();
    System.out.pringln("Total Cost : " + vegMeal.getCost());

    Meal nogVegMeal = builder.prepareNonVegMeal();
    System.out.print("\n \n Non-Veg Meal");
    nonVegMeal.showItems();
    System.out.println("Total Cost : "+ nonVegMeal.getCost());
  }
}
```

**æ€»æ„Ÿè§‰è¿™ä¸ªå»ºé€ è€…æ¨¡å¼ï¼Œä¸åƒè‡ªå·±è®¤è¯†çš„é‚£æ ·ï¼Œç¼ºå°‘builderçš„é“¾å¼æ“ä½œã€‚**